

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Slopegraphs in python - Dzakwan Falih</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Dzakwan Falih">
<meta property="og:title" content="Slopegraphs in python">


  <link rel="canonical" href="http://localhost:4000/posts/2018/03/slopegraphs-in-python">
  <meta property="og:url" content="http://localhost:4000/posts/2018/03/slopegraphs-in-python">



  <meta property="og:description" content="Slopegraphs are always introduced as being introduced by this Edward Tufte post, though this page is my top Google hit for “slopegraph.”I’m not sure if the kind of plot I’m talking about is technically a slopegraph, but in my academic circles that’s usually the term we end up settling on after a conversation that almost always sounds like, “you know, those plots which are kind of like boxplots except the paired points are connected with lines.”">



  <meta name="twitter:site" content="@dzakwanfalihh">
  <meta name="twitter:title" content="Slopegraphs in python">
  <meta name="twitter:description" content="Slopegraphs are always introduced as being introduced by this Edward Tufte post, though this page is my top Google hit for “slopegraph.”I’m not sure if the kind of plot I’m talking about is technically a slopegraph, but in my academic circles that’s usually the term we end up settling on after a conversation that almost always sounds like, “you know, those plots which are kind of like boxplots except the paired points are connected with lines.”">
  <meta name="twitter:url" content="http://localhost:4000/posts/2018/03/slopegraphs-in-python">

  
    <meta name="twitter:card" content="summary">
    
  

  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2018-03-08T00:00:00-08:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Dzakwan Falih",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Dzakwan Falih Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="http://localhost:4000/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="http://localhost:4000/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="http://localhost:4000/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="http://localhost:4000/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="http://localhost:4000/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="http://localhost:4000/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="http://localhost:4000/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="http://localhost:4000/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="http://localhost:4000/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="http://localhost:4000/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="http://localhost:4000/assets/css/academicons.css"/>
<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:4000/">Dzakwan Falih</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/blog/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/publications/">Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/cv/">CV</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/travel/">Road trip</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="http://localhost:4000/images/gue.jpeg" class="author__avatar" alt="Dzakwan Falih">
    
  </div>

  <div class="author__content">
    <h3 class="author__name"><a href="/">Dzakwan Falih</a></h3>
    <p class="author__bio">reformed cyber criminal @ cyber space</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Cyber Space, Internet</li>
      
      
      
      
        <li><a href="https://keybase.io/dzakwanfalih"><i class="fa fa-fw fa-key" aria-hidden="true"></i> Keybase</a></li>
      
      
        <li><a href="https://twitter.com/dzakwanfalihh"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/dzakwanfalih"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
        <li><a href="https://instagram.com/dzakwanfalih_2.0"><i class="fa fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <li><a href="https://scholar.google.com/citations?hl=en&user=ZFuwjiIAAAAJ"><i class="ai ai-google-scholar-square ai-fw"></i> Google Scholar</a></li>
      
      
      
      
      
        <li><a href="mailto:dzakwanfaliht@hotmail.com"><i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
      

    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Slopegraphs in python">
    <meta itemprop="description" content="Slopegraphs are always introduced as being introduced by this Edward Tufte post, though this page is my top Google hit for “slopegraph.”I’m not sure if the kind of plot I’m talking about is technically a slopegraph, but in my academic circles that’s usually the term we end up settling on after a conversation that almost always sounds like, “you know, those plots which are kind of like boxplots except the paired points are connected with lines.”">
    <meta itemprop="datePublished" content="March 08, 2018">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Slopegraphs in python
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  8 minute read
	
</p>
          
        
        
        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2018-03-08T00:00:00-08:00">March 08, 2018</time></p>
        
        
             
        
    
        </header>
      

      <section class="page__content" itemprop="text">
        <p>Slopegraphs are always introduced as being introduced by this Edward Tufte <a href="https://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0003nk">post</a>, though <a href="http://charliepark.org/slopegraphs/">this page</a> is my top Google hit for “slopegraph.”
I’m not sure if the kind of plot I’m talking about is technically a slopegraph, but in my academic circles that’s usually the term we end up settling on after a conversation that almost always sounds like, “you know, those plots which are kind of like boxplots except the paired points are connected with lines.”</p>

<p>A <a href="https://www.ncbi.nlm.nih.gov/pubmed/28591632">recent paper</a> (closed access, sorry) comparing microbiome and glycemic responses to different types of bread is the first example that comes to mind, but I do think these are fairly ubiquitous in the literature (if difficult to find, because there isn’t a good keyword to search for!)
Technically they’re not quite slopegraphs, since the points are showing continuous values rather than ordered categorical variables.
But, tomato toh-mah-toe.</p>

<p><img src="/images/2018-03-08-slopegraphs-in-python_files/slopegraph_example_Korem_2017.png" alt="png" /></p>

<p>Plotting paired data as slopegraphs is actually not my favorite way to show paired data, since in almost all cases the lines connecting the points end up very jumbled and difficult to distinguish any patterns from.
For example, in the Korem at al figure above, it’s pretty unclear what we’re supposed to get out of the figure (even though there aren’t that many lines).
The takeaway is actually that there isn’t really a trend either way, but even that isn’t necessarily immediately obvious.</p>

<p>I think the best option to explore and analyze paired data is to put the points on a scatter plot, where the x- and y-axes show the value for each member of the pair.
For example, if you’re plotting the average abundance of different microbes in healthy patients vs. patients with a disease, you’d have <code class="language-plaintext highlighter-rouge">abundance in healthy</code> on the x-axis and <code class="language-plaintext highlighter-rouge">abundance in diseased patients</code> on the y-axis, and each point would be a microbe.
Then, you can just look at how many points are above the y=x line vs. below to get a sense of which abundances are higher.
That said, these plots can be more difficult to interpret, especially for people who aren’t as familiar with statistics or who are expecting a more “visual” slopegraph.</p>

<p>Another option is just to plot the differences between pairs of points, but then this loses information about the actual values of each point in the pairs.
And finally, regardless of the best way to show the data, many times your advisor wants you to try a slopegraph anyway and so you can choose to argue with her or just produce the plot and then decide together whether it’s a good way to show the data.</p>

<p>So let’s do that!</p>

<p>(Spoiler: in my particular case that motivated this post, my advisor ended up being right and the slopegraph was totally the best way to show the data. It’s also very clinician-friendly, which is good because this was data for a clinical paper!)</p>

<h1 id="generate-data">Generate data</h1>

<p>First, let’s set up some toy data. I’ll use essentially the same data as in my <a href="https://cduvallet.github.io/posts/2018/03/boxplots-in-python">boxplots post</a>. We’ll be simulating making some measurements on three different body sites for 15 healthy patients and 15 diseased patients. Because we’re making slopegraphs, we’re assuming that these are paired measurements - say, the abundance of a specific microbe on a tumor sample and the abundance of that same microbe on a nearby non-cancer sample.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="c1"># Set up the data
</span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
    <span class="p">[[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'site1'</span><span class="p">],</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'healthy'</span><span class="p">]],</span>
     <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'site2'</span><span class="p">],</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'healthy'</span><span class="p">]],</span>
     <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'site3'</span><span class="p">],</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'healthy'</span><span class="p">]],</span>
     <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'site1'</span><span class="p">],</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'disease'</span><span class="p">]],</span>
     <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'site2'</span><span class="p">],</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'disease'</span><span class="p">]],</span>
     <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">15</span><span class="p">),</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'site3'</span><span class="p">],</span> <span class="mi">15</span><span class="o">*</span><span class="p">[</span><span class="s">'disease'</span><span class="p">]]],</span>
    <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'value'</span><span class="p">,</span> <span class="s">'site'</span><span class="p">,</span> <span class="s">'label'</span><span class="p">],</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s">'value'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1"># Show every ninth row
</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[::</span><span class="mi">9</span><span class="p">]</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>value</th>
      <th>site</th>
      <th>label</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.462536</td>
      <td>site1</td>
      <td>healthy</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.606038</td>
      <td>site1</td>
      <td>healthy</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2.793179</td>
      <td>site2</td>
      <td>healthy</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2.903060</td>
      <td>site2</td>
      <td>healthy</td>
    </tr>
    <tr>
      <th>36</th>
      <td>-0.166360</td>
      <td>site3</td>
      <td>healthy</td>
    </tr>
    <tr>
      <th>45</th>
      <td>1.827056</td>
      <td>site1</td>
      <td>disease</td>
    </tr>
    <tr>
      <th>54</th>
      <td>1.483208</td>
      <td>site1</td>
      <td>disease</td>
    </tr>
    <tr>
      <th>63</th>
      <td>0.938095</td>
      <td>site2</td>
      <td>disease</td>
    </tr>
    <tr>
      <th>72</th>
      <td>1.203820</td>
      <td>site2</td>
      <td>disease</td>
    </tr>
    <tr>
      <th>81</th>
      <td>3.761979</td>
      <td>site3</td>
      <td>disease</td>
    </tr>
  </tbody>
</table>
</div>

<h1 id="make-a-basic-slope-graph">Make a basic slope graph</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Set up list to track sites
</span><span class="n">sites</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="k">for</span> <span class="n">site</span><span class="p">,</span> <span class="n">subdf</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'site'</span><span class="p">):</span>
    <span class="n">sites</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>
    <span class="c1"># Get the values for healthy and disease patients
</span>    <span class="n">h</span> <span class="o">=</span> <span class="n">subdf</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'label == "healthy"'</span><span class="p">)[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">subdf</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'label == "disease"'</span><span class="p">)[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

    <span class="c1"># Set up the x-axis values
</span>    <span class="n">x1</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mf">0.2</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mf">0.2</span>

    <span class="c1"># Plot the lines connecting the dots
</span>    <span class="k">for</span> <span class="n">hi</span><span class="p">,</span> <span class="n">di</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">hi</span><span class="p">,</span> <span class="n">di</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s">'gray'</span><span class="p">)</span>

    <span class="c1"># Plot the points
</span>    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">x1</span><span class="o">-</span><span class="mf">0.01</span><span class="p">],</span> <span class="n">h</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'k'</span><span class="p">,</span>
               <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'healthy'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">x2</span><span class="o">+</span><span class="mf">0.01</span><span class="p">],</span> <span class="n">d</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'k'</span><span class="p">,</span>
               <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'disease'</span><span class="p">)</span>


    <span class="c1"># Update x-axis
</span>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="c1"># Fix the axes and labels
</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">sites</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s">'x-large'</span><span class="p">)</span>

</code></pre></div></div>

<p><img src="/images/2018-03-08-slopegraphs-in-python_files/2018-03-08-slopegraphs-in-python_4_0.png" alt="png" /></p>

<h1 id="lets-get-fancier">Let’s get fancier</h1>

<p>That’s the most basic skeleton code. Now let’s add some bells and whistles:</p>

<ul>
  <li>Change the color of the points to indicate healthy [blue] or disease [red].</li>
  <li>Color the lines according to their slopes: blue if higher in healthy, red if higher in disease</li>
  <li>Add a legend</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">red</span> <span class="o">=</span> <span class="s">'#C25539'</span>
<span class="n">blue</span> <span class="o">=</span> <span class="s">'#3F7F93'</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Set up list to track sites
</span><span class="n">sites</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="k">for</span> <span class="n">site</span><span class="p">,</span> <span class="n">subdf</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'site'</span><span class="p">):</span>
    <span class="n">sites</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>
    <span class="c1"># Get the values for healthy and disease patients
</span>    <span class="n">h</span> <span class="o">=</span> <span class="n">subdf</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'label == "healthy"'</span><span class="p">)[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">subdf</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'label == "disease"'</span><span class="p">)[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

    <span class="c1"># Set up the x-axis values
</span>    <span class="n">x1</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mf">0.2</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mf">0.2</span>

    <span class="c1"># Set up line color
</span>    <span class="n">line_colors</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span> <span class="o">-</span> <span class="n">d</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="n">line_colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">blue</span> <span class="k">if</span> <span class="n">j</span> <span class="k">else</span> <span class="n">red</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">line_colors</span><span class="p">]</span>

    <span class="c1"># Also set up alpha values to make the lines slightly transparent
</span>    <span class="n">alphas</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">line_colors</span><span class="p">)</span>

    <span class="c1"># Plot the lines connecting the dots
</span>    <span class="k">for</span> <span class="n">hi</span><span class="p">,</span> <span class="n">di</span><span class="p">,</span> <span class="n">ci</span><span class="p">,</span> <span class="n">ai</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">line_colors</span><span class="p">,</span> <span class="n">alphas</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">hi</span><span class="p">,</span> <span class="n">di</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">ci</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">ai</span><span class="p">)</span>

    <span class="c1"># Plot the points
</span>    <span class="c1"># Note: s=25 increase the default point size, lw=0.5 decreases the default
</span>    <span class="c1"># point line width
</span>    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">x1</span><span class="o">-</span><span class="mf">0.01</span><span class="p">],</span> <span class="n">h</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">blue</span><span class="p">,</span>
               <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'healthy'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">x2</span><span class="o">+</span><span class="mf">0.01</span><span class="p">],</span> <span class="n">d</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">red</span><span class="p">,</span>
               <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'disease'</span><span class="p">)</span>

    <span class="c1"># Update x-axis
</span>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="c1"># Fix the axes and labels
</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">sites</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s">'x-large'</span><span class="p">)</span>

<span class="c1"># Add legend and fix it to show only the first two elements
</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">lgd</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="n">labels</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span>   
              <span class="n">fontsize</span><span class="o">=</span><span class="s">'large'</span><span class="p">,</span>
              <span class="n">loc</span><span class="o">=</span><span class="s">'upper center'</span><span class="p">,</span>
              <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">),</span>
              <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
              <span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">lgd</span><span class="o">.</span><span class="n">legendHandles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">80</span><span class="p">]</span>
<span class="n">lgd</span><span class="o">.</span><span class="n">legendHandles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">80</span><span class="p">]</span>

</code></pre></div></div>

<p><img src="/images/2018-03-08-slopegraphs-in-python_files/2018-03-08-slopegraphs-in-python_6_0.png" alt="png" /></p>

<p>Finally, if you want to get <em>really</em> fancy, you can overlay this with a boxplot and jitter the points.</p>

<p>Full disclosure: I made this plot just to see what it would look like, and quickly decided this was a terrible way to visualize data. But, since I went through the work of making it, perhaps it will be useful to someone someday!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">red</span> <span class="o">=</span> <span class="s">'#C25539'</span>
<span class="n">blue</span> <span class="o">=</span> <span class="s">'#3F7F93'</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Set up list to track sites
</span><span class="n">sites</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># Set up lists to track boxplot data
</span><span class="n">for_boxplot</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">positions</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">i</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="k">for</span> <span class="n">site</span><span class="p">,</span> <span class="n">subdf</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'site'</span><span class="p">):</span>
    <span class="n">sites</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>

    <span class="c1"># Get the values for healthy and disease patients
</span>    <span class="n">h</span> <span class="o">=</span> <span class="n">subdf</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'label == "healthy"'</span><span class="p">)[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">subdf</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'label == "disease"'</span><span class="p">)[</span><span class="s">'value'</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

    <span class="c1"># Set up the x-axis values
</span>    <span class="n">x1</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mf">0.2</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mf">0.2</span>

    <span class="c1">## Track values for one call to boxplot after the loop
</span>    <span class="c1"># Add the healthy (left) values first
</span>    <span class="n">for_boxplot</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
    <span class="c1"># and disease (right) values next
</span>    <span class="n">for_boxplot</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>    

    <span class="c1"># And track positions
</span>    <span class="n">positions</span> <span class="o">+=</span> <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">]</span>

    <span class="c1"># Set up line color
</span>    <span class="n">line_colors</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span> <span class="o">-</span> <span class="n">d</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="n">line_colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">blue</span> <span class="k">if</span> <span class="n">j</span> <span class="k">else</span> <span class="n">red</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">line_colors</span><span class="p">]</span>

    <span class="c1"># Also set up alpha values to make the lines slightly transparent
</span>    <span class="n">alphas</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.4</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">line_colors</span><span class="p">)</span>

    <span class="c1"># Plot the lines connecting the dots
</span>    <span class="k">for</span> <span class="n">hi</span><span class="p">,</span> <span class="n">di</span><span class="p">,</span> <span class="n">ci</span><span class="p">,</span> <span class="n">ai</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">line_colors</span><span class="p">,</span> <span class="n">alphas</span><span class="p">):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="p">[</span><span class="n">hi</span><span class="p">,</span> <span class="n">di</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">ci</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">ai</span><span class="p">)</span>

    <span class="c1"># Plot the points
</span>
    <span class="c1"># Set up some noise for jitter
</span>    <span class="n">noise</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.025</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">))</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">x1</span><span class="o">-</span><span class="mf">0.01</span><span class="p">]</span> <span class="o">+</span> <span class="n">noise</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">blue</span><span class="p">,</span>
               <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'healthy'</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="n">x2</span><span class="o">+</span><span class="mf">0.01</span><span class="p">]</span> <span class="o">+</span> <span class="n">noise</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">red</span><span class="p">,</span>
               <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">'disease'</span><span class="p">)</span>

    <span class="c1"># Update x-axis
</span>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="c1">## Overlay boxplot
# Set up some parameters for the boxplot
</span><span class="n">boxprops</span> <span class="o">=</span> <span class="p">{</span><span class="s">'linewidth'</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'k'</span><span class="p">}</span>
<span class="n">lineprops</span> <span class="o">=</span> <span class="p">{</span><span class="s">'linewidth'</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s">'color'</span><span class="p">:</span> <span class="s">'k'</span><span class="p">,</span> <span class="s">'linestyle'</span><span class="p">:</span> <span class="s">'-'</span><span class="p">}</span>

<span class="n">boxplot_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">({</span><span class="s">'boxprops'</span><span class="p">:</span> <span class="n">boxprops</span><span class="p">,</span> <span class="s">'medianprops'</span><span class="p">:</span> <span class="n">lineprops</span><span class="p">,</span>
                       <span class="s">'whiskerprops'</span><span class="p">:</span> <span class="n">lineprops</span><span class="p">,</span> <span class="s">'capprops'</span><span class="p">:</span> <span class="n">lineprops</span><span class="p">})</span>
<span class="n">bp</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">for_boxplot</span><span class="p">,</span> <span class="n">positions</span><span class="o">=</span><span class="n">positions</span><span class="p">,</span>
                <span class="n">widths</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="o">**</span><span class="n">boxplot_kwargs</span><span class="p">)</span>       

<span class="c1"># Fix the axes and labels
</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">sites</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="s">'x-large'</span><span class="p">)</span>

<span class="c1"># Add legend and fix it to show only the first two elements
</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">lgd</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="n">labels</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span>   
              <span class="n">fontsize</span><span class="o">=</span><span class="s">'large'</span><span class="p">,</span>
              <span class="n">loc</span><span class="o">=</span><span class="s">'upper center'</span><span class="p">,</span>
              <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">),</span>
              <span class="n">ncol</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
              <span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Make the points in the legend larger
</span><span class="n">lgd</span><span class="o">.</span><span class="n">legendHandles</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">80</span><span class="p">]</span>
<span class="n">lgd</span><span class="o">.</span><span class="n">legendHandles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">80</span><span class="p">]</span>

</code></pre></div></div>

<p><img src="/images/2018-03-08-slopegraphs-in-python_files/2018-03-08-slopegraphs-in-python_8_0.png" alt="png" /></p>

        
      </section>

      <footer class="page__meta">
        
        


  




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/tags/#coding" class="page__taxonomy-item" rel="tag">coding</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#plotting" class="page__taxonomy-item" rel="tag">plotting</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#portfolio" class="page__taxonomy-item" rel="tag">portfolio</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#python" class="page__taxonomy-item" rel="tag">python</a>
    
    </span>
  </p>




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/posts/2018/03/slopegraphs-in-python" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/posts/2018/03/slopegraphs-in-python" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http://localhost:4000/posts/2018/03/slopegraphs-in-python" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/posts/2018/03/slopegraphs-in-python" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


  <nav class="pagination">
    
      <a href="http://localhost:4000/posts/2018/03/boxplots-in-python" class="pagination--pager" title="Boxplots in python
">Previous</a>
    
    
      <a href="http://localhost:4000/posts/2018/03/qiime2-plugin" class="pagination--pager" title="Developing a qiime2 plugin for non-developers
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      
        <h4 class="page__related-title">You May Also Enjoy</h4>
      
      <div class="grid__wrapper">
        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2021/01/public-health-resources" rel="permalink">Resources for pivoting to public health data science
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  10 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2021-01-09T00:00:00-08:00">January 09, 2021</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>About two years into my PhD, I realized that the field I actually wanted to be in was public health, not necessarily biological engineering. Around the same time, I also fell in love with coding and data science. That’s when I realized that combining public health and data science could be an ideal career path for my technical abilities and interests and my desire to have social impact. But immersed in the world of academia, at an institution without a school of public health, and with mentors who had all chosen routes in biotech or academia, it was really hard to learn more about my options for pivoting to a career in public health.

<strong><a href="http://localhost:4000/posts/2021/01/public-health-resources" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2020/06/racism-public-health-wbe" rel="permalink">Racism as a public health crisis: how wastewater epidemiology fits in
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  10 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2020-06-10T00:00:00-07:00">June 10, 2020</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>Today is the <a href="https://www.particlesforjustice.org/">Strike for Black Lives</a> and a day to <a href="https://www.shutdownstem.com/">#ShutDownSTEM</a>. For white people like me, today is about recognizing and reflecting on the anti-Black racism in our society, and committing to specific actions toward ending white supremacy. One of my actions for today is to publicly reflect on how our work at <a href="www.biobot.io">Biobot Analytics</a> contributes to addressing – and potentially perpetuating – racism in public health.

<strong><a href="http://localhost:4000/posts/2020/06/racism-public-health-wbe" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2020/02/road-trip-map" rel="permalink">Mapping my cross-country road trip with Python
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  27 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2020-02-09T00:00:00-08:00">February 09, 2020</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>When I was on my <a href="https://cduvallet.github.io/travel/">cross-country road trip</a> last year, I kept track of a lot of things in the hopes of doing amazing analyses when I got back. Turns out having a job as a data scientist makes it a lot harder to find time to do data science on the side, and so I’ve only really gotten a chance to look into my <a href="2019/07/road-trip-expenses-pt1">expenses</a>. One of the things I had really wanted to do was make a map of all the places I went, but I didn’t actually know how to work with geospatial data in Python yet. I had this grand idea that I’d learn spatial data techniques while on my trip, but turns out hiking, drinking beer while watching the sunset, and going to bed early were way more compelling ways to spend my time. Luckily for me, one of the most fun parts of my new job has been learning geospatial coding and plotting techniques. I’ve been having fun with it in my job, and I realized that it also means I get to finally make my map!

<strong><a href="http://localhost:4000/posts/2020/02/road-trip-map" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2020/01/phd-job-search" rel="permalink">A Well-Kept Secret for Finding a Job post-PhD
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  8 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2020-01-25T00:00:00-08:00">January 25, 2020</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>During my PhD, I performed a lot of exit interviews with graduating students and learned that finding a job is often the most stressful part of graduating, and among the most stressful in the entire PhD. After my own defense, however, I was able to avoid some of that stress by discovering a valuable post-PhD job option that I had rarely heard discussed: getting a part-time or consulting gig after graduating to hold you over while you figure out your next full-time non-academic career move.

<strong><a href="http://localhost:4000/posts/2020/01/phd-job-search" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
      </div>
    </div>
  
</div>


    </script>

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/dzakwanfalihh"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/dzakwanfalih"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Dzakwan Falih. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>






  </body>
</html>

