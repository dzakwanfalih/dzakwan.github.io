

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>Road trip expense analysis, part 1 - Dzakwan Falih</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Dzakwan Falih">
<meta property="og:title" content="Road trip expense analysis, part 1">


  <link rel="canonical" href="http://localhost:4000/posts/2019/07/road-trip-expenses-pt1">
  <meta property="og:url" content="http://localhost:4000/posts/2019/07/road-trip-expenses-pt1">



  <meta property="og:description" content="On my road trip, I kept track of (almost) all the money I spent. I was already fairly surprised with some of my quick calculations about how little I ended up spending (just around $4000!), and I also wanted to dive a bit more into how much I spent, where, and on what. So here we go!">



  <meta name="twitter:site" content="@dzakwanfalihh">
  <meta name="twitter:title" content="Road trip expense analysis, part 1">
  <meta name="twitter:description" content="On my road trip, I kept track of (almost) all the money I spent. I was already fairly surprised with some of my quick calculations about how little I ended up spending (just around $4000!), and I also wanted to dive a bit more into how much I spent, where, and on what. So here we go!">
  <meta name="twitter:url" content="http://localhost:4000/posts/2019/07/road-trip-expenses-pt1">

  
    <meta name="twitter:card" content="summary">
    
  

  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2019-07-22T00:00:00-07:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Dzakwan Falih",
      "url" : "http://localhost:4000",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Dzakwan Falih Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<link rel="apple-touch-icon" sizes="57x57" href="http://localhost:4000/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="http://localhost:4000/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="http://localhost:4000/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="http://localhost:4000/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="http://localhost:4000/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:4000/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="http://localhost:4000/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="http://localhost:4000/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="http://localhost:4000/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="http://localhost:4000/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="http://localhost:4000/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="http://localhost:4000/images/browserconfig.xml?v=M44lzPylqQ">
<meta name="theme-color" content="#ffffff">
<link rel="stylesheet" href="http://localhost:4000/assets/css/academicons.css"/>
<!-- end custom head snippets -->

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg"><a href="http://localhost:4000/">Dzakwan Falih</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/blog/">Blog</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/publications/">Publications</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/cv/">CV</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://localhost:4000/travel/">Road trip</a></li>
          
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="http://localhost:4000/images/gue.jpeg" class="author__avatar" alt="Dzakwan Falih">
    
  </div>

  <div class="author__content">
    <h3 class="author__name"><a href="/">Dzakwan Falih</a></h3>
    <p class="author__bio">reformed cyber criminal @ cyber space</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li><i class="fa fa-fw fa-map-marker" aria-hidden="true"></i> Cyber Space, Internet</li>
      
      
      
      
        <li><a href="https://keybase.io/dzakwanfalih"><i class="fa fa-fw fa-key" aria-hidden="true"></i> Keybase</a></li>
      
      
        <li><a href="https://twitter.com/dzakwanfalihh"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/dzakwanfalih"><i class="fa fa-fw fa-github" aria-hidden="true"></i> Github</a></li>
      
      
      
        <li><a href="https://instagram.com/dzakwanfalih_2.0"><i class="fa fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
        <li><a href="https://scholar.google.com/citations?hl=en&user=ZFuwjiIAAAAJ"><i class="ai ai-google-scholar-square ai-fw"></i> Google Scholar</a></li>
      
      
      
      
      
        <li><a href="mailto:dzakwanfaliht@hotmail.com"><i class="fa fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
      

    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Road trip expense analysis, part 1">
    <meta itemprop="description" content="On my road trip, I kept track of (almost) all the money I spent. I was already fairly surprised with some of my quick calculations about how little I ended up spending (just around $4000!), and I also wanted to dive a bit more into how much I spent, where, and on what. So here we go!">
    <meta itemprop="datePublished" content="July 22, 2019">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Road trip expense analysis, part 1
</h1>
          
            <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  18 minute read
	
</p>
          
        
        
        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2019-07-22T00:00:00-07:00">July 22, 2019</time></p>
        
        
             
        
    
        </header>
      

      <section class="page__content" itemprop="text">
        <p>On my road trip, I kept track of (almost) all the money I spent. I was already fairly surprised with some of my <a href="/2019/07/road-trip-stats">quick calculations</a> about how little I ended up spending (just around $4000!), and I also wanted to dive a bit more into how much I spent, where, and on what. So here we go!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</code></pre></div></div>

<h2 id="the-data">The data</h2>

<p>I tracked all my expenses in a notebook throughout my trip, and then entered them into an Excel spreadsheet.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s">'money.xlsx'</span><span class="p">)</span>
<span class="c1"># Last column just has some notes, but no data
</span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">5</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>item</th>
      <th>price</th>
      <th>category</th>
      <th>ben_or_claire</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-02-17</td>
      <td>gas</td>
      <td>37.14</td>
      <td>car</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-02-17</td>
      <td>sonic</td>
      <td>4.90</td>
      <td>food</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-02-18</td>
      <td>coffee</td>
      <td>2.50</td>
      <td>food</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-02-18</td>
      <td>lunch</td>
      <td>12.00</td>
      <td>food</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-02-18</td>
      <td>dinner tacos</td>
      <td>8.15</td>
      <td>food</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>

<p>I tracked the date, the expense, and the price. I also manually assigned each expense a ‚Äúcategory.‚Äù And, for the parts of the trip where Ben joined me, I also tracked who paid for the expense. Unfortunately, I didn‚Äôt do a great job of tracking expenses during these weekends, so I probably won‚Äôt be able to dig into that split.</p>

<p>Anyway, let‚Äôs see how much I spent on each category:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'category'</span><span class="p">)</span>
    <span class="o">.</span><span class="nb">sum</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'price'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="c1">#.plot(kind='bar', rot=45)
</span><span class="p">)</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>price</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>car</th>
      <td>1721.53</td>
    </tr>
    <tr>
      <th>food</th>
      <td>1235.75</td>
    </tr>
    <tr>
      <th>gear</th>
      <td>659.79</td>
    </tr>
    <tr>
      <th>lodging</th>
      <td>569.02</td>
    </tr>
    <tr>
      <th>fun</th>
      <td>382.89</td>
    </tr>
    <tr>
      <th>dumb</th>
      <td>134.01</td>
    </tr>
    <tr>
      <th>postcards</th>
      <td>83.06</td>
    </tr>
    <tr>
      <th>misc</th>
      <td>59.70</td>
    </tr>
    <tr>
      <th>souvenirs</th>
      <td>29.00</td>
    </tr>
  </tbody>
</table>
</div>

<p>Okay, nothing super wild here: as expected, car and food-related expenses were the largest part. Gear also ended up being a lot, mostly because I had to buy most of my camping-related gear at the beginning of the trip (a worthy investment, I hope!) Interestingly, lodging was pretty high too ‚Äì but I‚Äôm guessing this has to do with the parts of the trip where Ben joined me, and we paid for AirBnBs.</p>

<p>Let‚Äôs look into a couple of the more dubious categories: ‚Äúdumb‚Äù (this is when I locked myself out, I think), ‚Äúgear‚Äù (which has a few confusing entries), ‚Äúmisc‚Äù (what does that even mean), and ‚Äúsouvenirs‚Äù (I think that was also only one purchase).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">check_cats</span> <span class="o">=</span> <span class="p">[</span><span class="s">'dumb'</span><span class="p">,</span> <span class="s">'gear'</span><span class="p">,</span> <span class="s">'misc'</span><span class="p">,</span> <span class="s">'souvenirs'</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'category == @check_cats'</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'category'</span><span class="p">)</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>item</th>
      <th>price</th>
      <th>category</th>
      <th>ben_or_claire</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>22</th>
      <td>2019-02-25</td>
      <td>phone repair</td>
      <td>69.01</td>
      <td>dumb</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>203</th>
      <td>2019-04-27</td>
      <td>car lockout</td>
      <td>65.00</td>
      <td>dumb</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2019-02-25</td>
      <td>rei</td>
      <td>1.60</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>37</th>
      <td>2019-02-26</td>
      <td>knife</td>
      <td>8.09</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>77</th>
      <td>2019-04-17</td>
      <td>propane</td>
      <td>9.36</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>131</th>
      <td>2019-05-01</td>
      <td>home depot</td>
      <td>11.66</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>172</th>
      <td>2019-05-19</td>
      <td>propane</td>
      <td>6.38</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>188</th>
      <td>2019-05-24</td>
      <td>rei</td>
      <td>124.33</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>204</th>
      <td>2019-02-14</td>
      <td>rei</td>
      <td>352.40</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>205</th>
      <td>2019-02-16</td>
      <td>rei (parents paid)</td>
      <td>297.55</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>206</th>
      <td>2019-05-28</td>
      <td>air mattress reimbursement</td>
      <td>-151.58</td>
      <td>gear</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>32</th>
      <td>2019-02-26</td>
      <td>haircut</td>
      <td>50.00</td>
      <td>misc</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>38</th>
      <td>2019-02-26</td>
      <td>cds/postcards</td>
      <td>9.70</td>
      <td>misc</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>95</th>
      <td>2019-05-02</td>
      <td>license plates</td>
      <td>29.00</td>
      <td>souvenirs</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>

<p>Oh, right! Not only did I lock myself out of my car at the Grand Canyon, but I also broke my phone on the first part of my trip and had to fix it. Okay, we‚Äôll leave these two ‚Äúdumb‚Äù expenses in.</p>

<p>The gear category is a bit tough: I exchanged my air mattress a few times, and was eventually reimbursed for it, which explains the ‚Äúnegative‚Äù expense on 5/28. Also, my parents got me a lot of gear for the combination of Christmas, graduation, and my birthday ‚Äì that‚Äôs the 2/16 trip for about $300. We‚Äôll leave that in here, though, since that‚Äôs money that I was going to spend on this trip regardless.</p>

<p>Like I thought, there‚Äôs only one souvenir expense (oops lol). I‚Äôll just lump that into the ‚Äúmisc‚Äù category.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Replace "souvenir" category with "misc"
</span><span class="n">df</span><span class="p">[</span><span class="s">'category'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'category'</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">'souvenirs'</span><span class="p">,</span> <span class="s">'misc'</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="the-road-trip-expenses">The road trip expenses</h2>

<p>Ok, now I‚Äôm ready to dive in. I‚Äôll first look only at the parts of the trip that I spent on my own, since when Ben was visiting we stayed in AirBnB‚Äôs and went out a lot ‚Äì lots of fun, definitely a great way to spend time and money, but not the road trip I was planning or intending for.</p>

<p>Let‚Äôs look at how much I spent on each category during each part of the trip. I‚Äôll do a bit of pandas-fu to get the sum of all expenses in each category, one time for the whole dataset and one time just for the part where it was only me.</p>

<p>Coding notes: I <a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/comparison/comparison_with_r.html">just learned</a> that you can use the <code class="language-plaintext highlighter-rouge">.assign()</code> to make a new column within a chain of pandas commands, like the R version of <code class="language-plaintext highlighter-rouge">mutate</code>. Cool!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">category_totals</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span>
    <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'category'</span><span class="p">)</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">trip</span><span class="o">=</span><span class="s">'all_expenses'</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span>
    <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'ben_or_claire'</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'category'</span><span class="p">)</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">trip</span><span class="o">=</span><span class="s">'only_me'</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="p">])</span>

<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">category_totals</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">'category'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'price'</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">'trip'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/images/2019/2019-07-18-road-trip-expenses-pt1_files/2019-07-18-road-trip-expenses-pt1_11_1.png" alt="png" /></p>

<p>Hm, it‚Äôs pretty hard to tell how much I spent on the part of the trip with Ben. Let‚Äôs directly calculate the difference‚Ä¶</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Convert tidy data to wide data so I can subtract columns
</span><span class="n">wide_totals</span> <span class="o">=</span> <span class="n">category_totals</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s">'category'</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s">'trip'</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s">'price'</span><span class="p">)</span>

<span class="n">wide_totals</span><span class="p">[</span><span class="s">'all_expenses'</span><span class="p">]</span> <span class="o">-</span> <span class="n">wide_totals</span><span class="p">[</span><span class="s">'only_me'</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>category
car          120.85
dumb           0.00
food          92.34
fun           50.00
gear           0.00
lodging      382.65
misc           0.00
postcards      0.00
dtype: float64
</code></pre></div></div>

<p>Hm. That‚Äôs definitely not the whole picture. I‚Äôm pretty sure the food and fun expenses are way off, and that I spent way more than just $142 during the parts with Ben ‚Äì but that makes sense, given that I didn‚Äôt really keep track of everything I spent during those days, let alone what Ben was spending. Also those parts involved much more alcohol and spontaneous purchases sooo‚Ä¶ üòÖ</p>

<p>I also don‚Äôt fully remember how I entered the lodging bills ‚Äì sometimes I think I put down the full cost (like when I paid for our AirBnBs on the first part of the trip), but other times I only put down my part (especially when Ben paid).</p>

<p>Anyway, no need to dive into this because I <em>know</em> I have incomplete data. Let‚Äôs move on with analyzing just the road trip part where I was alone! That said, I‚Äôll keep any car expenses that I encountered during our joint trip, because I would have needed to pay those anyway. I‚Äôll remove any food we split because that‚Äôs just too complicated‚Ä¶</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Keep only rows without anything in the ben/claire column,
# and keep all rows with the "car" category
</span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'category'</span><span class="p">]</span> <span class="o">==</span> <span class="s">"car"</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'ben_or_claire'</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">())</span> <span class="p">]</span>

<span class="n">df</span><span class="p">[</span><span class="s">'price'</span><span class="p">]</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4349.76
</code></pre></div></div>

<p>Ok, so after all this cleaning and manipulation the total amount I spent looks a little different than what I <a href="/2019/07/road-trip-stats">posted previously</a>, but basically the same: on my ~3 month road trip, I spent about $4300!</p>

<p>I have a lot of questions that I could answer by combining this data with my other mileage and lodging datasets, but for now let‚Äôs see what questions we can answer just from this data alone.</p>

<h3 id="daily-expenses">Daily expenses</h3>

<p>If we divide that by the total number of days I was on this trip for (105), that gives us an estimate of the daily cost* of my cross-country road trip!</p>

<p><em>*Of course, that‚Äôs recognizing that there‚Äôs a couple of high-expense weekends missing in this average, which would have been replaced by camping or crashing with friends ‚Äì so the daily average for a pure road trip should be a little higher than this.</em></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'category'</span><span class="p">)</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'price'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="o">/</span> <span class="mi">105</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>price</th>
    </tr>
    <tr>
      <th>category</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>car</th>
      <td>16.395524</td>
    </tr>
    <tr>
      <th>food</th>
      <td>11.769048</td>
    </tr>
    <tr>
      <th>gear</th>
      <td>6.283714</td>
    </tr>
    <tr>
      <th>lodging</th>
      <td>5.419238</td>
    </tr>
    <tr>
      <th>fun</th>
      <td>3.646571</td>
    </tr>
    <tr>
      <th>dumb</th>
      <td>1.276286</td>
    </tr>
    <tr>
      <th>misc</th>
      <td>0.844762</td>
    </tr>
    <tr>
      <th>postcards</th>
      <td>0.791048</td>
    </tr>
  </tbody>
</table>
</div>

<p>Hah! Glad to see my ‚Äúdumb‚Äù mistakes averaged out to only costing me a little over a dollar a day! üòÜ And not bad ‚Äì only $12 per day for food and $21 total for transportation and lodging. Also, I‚Äôll note that the daily gear cost will keep doing as time passes, since I own that stuff forever now!</p>

<p>Ok, that said we all know that the average isn‚Äôt necessarily that informative. Especially on this trip, I think I tended to spend a lot of money for a few days and then go to the wilderness for a few days and not spend anything at all. Let‚Äôs see if this impression is correct.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'date'</span><span class="p">)</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'hist'</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/images/2019/2019-07-18-road-trip-expenses-pt1_files/2019-07-18-road-trip-expenses-pt1_19_1.png" alt="png" /></p>

<p>At first, this histogram surprised me because there seem to be so <em>few</em> days where I spent zero money. But actually, this data doesn‚Äôt include those days! So this histogram just shows the money I spent, on days when I spent <em>some</em> money.</p>

<p>Also, note that the one negative value is the day I got reimbursed for the sleeping pad I returned. It had sprung a leak twice, and the second time I went to REI to exchange it they told me I couldn‚Äôt do that without being flagged in the system, so I had to return it. I also spent some money buying a new pad that same day, but the reimbursement wasn‚Äôt processed till a few days after so it was on its own day.</p>

<p>Anyway, back to my questions about my spending habits. First up: how many days in a row would I spend money?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">days_btw_purchases</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'date'</span><span class="p">)[</span><span class="s">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>

<span class="c1"># Remove the large value which represents the month I went to Malaysia
</span><span class="n">days_btw_purchases</span><span class="p">[</span><span class="n">days_btw_purchases</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.0    59
2.0     6
3.0     2
Name: date, dtype: int64
</code></pre></div></div>

<p>So there were 55 days in a row where I made some sort of purchase, and only 2 days where I waited 3 days between purchases. I didn‚Äôt ever wait more than 3 days (except the one-month break when I went to Malaysia, lol).</p>

<p>This is actually quite surprising! In my mind, I would go to the big city, buy a bunch of stuff, and then retreat to the wilderness. But now that I think about it, in actuality I would do that, but for big expenses only. I made small purchases almost every day, either stopping by a coffee shop or getting pie at Capitol Reef or other small joys.</p>

<p>Let‚Äôs see how these numbers change as I increase the amount of money that I consider a ‚Äúpurchase‚Äù:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

<span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">prices</span><span class="p">:</span>

    <span class="n">days_btw_purchases</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'price &gt; @p'</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'date'</span><span class="p">)[</span><span class="s">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
    <span class="n">days_btw_purchases</span><span class="p">[</span><span class="n">days_btw_purchases</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'hist'</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'${}'</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Frequency'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">''</span><span class="p">)</span>

    <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Days between purchase'</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/images/2019/2019-07-18-road-trip-expenses-pt1_files/2019-07-18-road-trip-expenses-pt1_23_0.png" alt="png" /></p>

<p>Damn. There were five times when I spent more than $50 two days in a row?? (That‚Äôs what the left-most bar in the $50 panel tells me). And in general, there were only a few times when I went more than a week in between &gt; $50 expenses.</p>

<p>On the flip side, there was only one time when I went like 5 days without spending more than $10. This was probably the week that I was hanging out in Utah, from Bryce to Moab.</p>

<p>The $35 price cutoff is intersting, because it kind of <em>de facto</em> removes most of my gas fillups since they were usually about $30. Here the purchases are more varied: sometimes I spent more than $35 two days in a row, and other times I went about a week without spending that much on any given day. This jives much more with my feeling on how I spent money this trip.</p>

<p>Either way, I was maybe a less big spender than I expected ($4300 is so little for such a massive trip), but definitely a <em>more frequent</em> spender than I thought.</p>

<h3 id="gas-groceries-and-camping">Gas, groceries, and camping</h3>

<p>Now let‚Äôs zoom in more specifically to the three big categories of expenses, and the ones you might be most interested in if you‚Äôre planning your own trip.</p>

<p>The ‚Äúcar‚Äù category includes gas and other things, but for now I‚Äôm honestly only interested in looking at how often I paid for gas. Similarly, let‚Äôs focus on my grocery shopping trips rather than eating out, since if you were trying to have the cheapest road trip possible then this would be the most important thing to look at.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Find all gas and grocery expenses, and put them in their own sub category
</span><span class="n">df</span><span class="p">[</span><span class="s">'sub_category'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'category'</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'item'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s">'gas'</span><span class="p">),</span> <span class="s">'sub_category'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'gas'</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'item'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s">'groceries'</span><span class="p">),</span> <span class="s">'sub_category'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'groceries'</span>
</code></pre></div></div>

<p>I‚Äôll do a similar analysis as above, looking at how many days in a row I spent money on each given thing. This time, though, I‚Äôll look within each category only. For example, this will let me answer ‚Äúon average, how many days would I go between filling up my tank?‚Äù</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Calculate days between spending on the same category
</span><span class="n">df</span><span class="p">[</span><span class="s">'days_since_last_same_category'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'date'</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'category'</span><span class="p">)[</span><span class="s">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
<span class="n">df</span><span class="p">[</span><span class="s">'days_since_last_same_subcategory'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'date'</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'sub_category'</span><span class="p">)[</span><span class="s">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>

<span class="c1"># Remove the large gap from Malaysia
</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'days_since_last_same_category'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">,</span> <span class="s">'days_since_last_same_category'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'days_since_last_same_subcategory'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">,</span> <span class="s">'days_since_last_same_subcategory'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>item</th>
      <th>price</th>
      <th>category</th>
      <th>ben_or_claire</th>
      <th>sub_category</th>
      <th>days_since_last_same_category</th>
      <th>days_since_last_same_subcategory</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-02-17</td>
      <td>gas</td>
      <td>37.14</td>
      <td>car</td>
      <td>NaN</td>
      <td>gas</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-02-17</td>
      <td>sonic</td>
      <td>4.90</td>
      <td>food</td>
      <td>NaN</td>
      <td>food</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-02-18</td>
      <td>coffee</td>
      <td>2.50</td>
      <td>food</td>
      <td>NaN</td>
      <td>food</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-02-18</td>
      <td>lunch</td>
      <td>12.00</td>
      <td>food</td>
      <td>NaN</td>
      <td>food</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-02-18</td>
      <td>dinner tacos</td>
      <td>8.15</td>
      <td>food</td>
      <td>NaN</td>
      <td>food</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2019-02-18</td>
      <td>gas</td>
      <td>32.89</td>
      <td>car</td>
      <td>NaN</td>
      <td>gas</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2019-02-18</td>
      <td>groceries</td>
      <td>35.21</td>
      <td>food</td>
      <td>NaN</td>
      <td>groceries</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2019-02-19</td>
      <td>gas</td>
      <td>23.41</td>
      <td>car</td>
      <td>NaN</td>
      <td>gas</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2019-02-19</td>
      <td>guitar center</td>
      <td>68.17</td>
      <td>fun</td>
      <td>NaN</td>
      <td>fun</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2019-02-20</td>
      <td>gas</td>
      <td>8.66</td>
      <td>car</td>
      <td>NaN</td>
      <td>gas</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">keep_cats</span> <span class="o">=</span> <span class="p">[</span><span class="s">'food'</span><span class="p">,</span> <span class="s">'car'</span><span class="p">,</span> <span class="s">'lodging'</span><span class="p">]</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'category == @keep_cats'</span><span class="p">),</span> <span class="n">col</span><span class="o">=</span><span class="s">'category'</span><span class="p">,</span>
                  <span class="n">sharey</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">col_order</span><span class="o">=</span><span class="n">keep_cats</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">,</span> <span class="s">'days_since_last_same_category'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/images/2019/2019-07-18-road-trip-expenses-pt1_files/2019-07-18-road-trip-expenses-pt1_29_1.png" alt="png" /></p>

<p>Hm. This is also surprising, and tells me that I spent money on way more days than I thought. (I am seeing this in the fact that the ‚Äú0‚Äù bar is quite large on all histograms, indicating that I frequently went zero days in between sequential purchases).</p>

<p>Specifically, I bought food two days in a row about 40 times. And then the majority of the rest of the times I bought food were just 1 day apart. In other words, for the majority of my trip I bought food either every day or every other day.</p>

<p>Looks like the story is pretty similar for car-related expenses: the majority of expenses had a lag of 0-2 days. So for the majority of my trip, I spent money on my car somewhere between every day and every 3 days. That makes sense ‚Äì I usually moved to a new spot every 2-3 days, which entailed a lot of driving, and I must have gotten gas basically every time I did that.</p>

<p>Now, lodging. Let‚Äôs see: does this make sense? My impression is that I super rarely paid for housing‚Ä¶ What this is saying is that yes, there were a few times when I went a week or more without paying for housing, but when I did pay for housing I paid for housing again within the next three days. I have a separate spreadsheet where I tracked the lodging expenses more cleanly, we‚Äôll have to come back to this when we analyze that one‚Ä¶</p>

<p>Let‚Äôs zoom into the groceries and gas question, because I think these expenses are where I‚Äôm drawing my intuition from.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">keep_subcats</span> <span class="o">=</span> <span class="p">[</span><span class="s">'groceries'</span><span class="p">,</span> <span class="s">'gas'</span><span class="p">]</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">'sub_category == @keep_subcats'</span><span class="p">),</span> <span class="n">col</span><span class="o">=</span><span class="s">'sub_category'</span><span class="p">,</span>
                  <span class="n">sharey</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">col_order</span><span class="o">=</span><span class="n">keep_subcats</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="nb">map</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">,</span> <span class="s">'days_since_last_same_subcategory'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/images/2019/2019-07-18-road-trip-expenses-pt1_files/2019-07-18-road-trip-expenses-pt1_31_1.png" alt="png" /></p>

<p>Yeah, I think this checks out. Of the 9 times I bought groceries, about 2/3 of them were at least 5 days apart (these are the bars on the right of the ‚Äúgroceries‚Äù plot). That makes sense ‚Äì I feel like I tended to buy groceries about once a week, and sometimes I‚Äôd have forgotten something so would need to swing back by the store the next day to get a bit more.</p>

<p>Similarly, most of my gas purchases were something like 2-3 days apart. This also makes sense, given my reasoning above about how often I was on the move.</p>

<h2 id="coffee">Coffee</h2>

<p>Okay, I‚Äôm getting a bit tired of this deep dive but there is one more thing I want to know: how much money did I spend on caffeine?</p>

<p>As I was putting these data into the spreadsheet, I found myself often typing ‚Äúcoffee‚Äù or ‚Äútea.‚Äù Ruh roh‚Ä¶</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Get any items where I specified coffee or tea
</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'item'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s">'coffee|tea'</span><span class="p">)][</span><span class="s">'item'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>coffee                  15
tea                      3
coffee and lunch         2
coffee and donuts        1
tea and gatorade         1
coffee and breakfast     1
coffee and taters        1
coffee and muffin        1
pie and coffee           1
iced tea                 1
Name: item, dtype: int64
</code></pre></div></div>

<p>Hehe, can you tell that I liked to treat myself to coffee in a variety of ways? :)</p>

<p>I‚Äôll note here that I <em>also</em> had instant coffee available, which isn‚Äôt included in these expenses (I bought a super-pack at Costco). Pro-tip for all my fellow road tripping caffeine addicts: the Starbucks instant coffee is actually quite nice! There was even once where I treated myself to ‚Äúreal‚Äù coffee at some Bryce Canyon lodge, and it was <em>way worse</em> than my usual instant. Good to know. But also I am weak and loved to treat myself to coffee and breakfast whenever I could reasonably justify it.</p>

<p>Okay but back to business: how much did I spend, and how often?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">caffeine</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">'item'</span><span class="p">]</span><span class="o">.</span><span class="nb">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s">'coffee|tea'</span><span class="p">)]</span>
<span class="n">caffeine</span><span class="p">[</span><span class="s">'price'</span><span class="p">]</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>140.61
</code></pre></div></div>

<p>Hah! I spent $140 on caffeine (plus, at times, also food ‚Äì but let‚Äôs be real the breakfast was just an excuse to buy coffee). That‚Äôs about $1.30 a day, which is‚Ä¶ not bad? (Though, again, this was <em>treat</em> coffee, and I had instant most days of the trip.)</p>

<p>Okay. How many days did I go in between giving in to my desire for some non-instant coffee or other caffeine?</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">days_btw_caffeine</span> <span class="o">=</span> <span class="n">caffeine</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">'date'</span><span class="p">)[</span><span class="s">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
<span class="n">days_btw_caffeine</span> <span class="o">=</span> <span class="n">days_btw_caffeine</span><span class="p">[</span><span class="n">days_btw_caffeine</span> <span class="o">&lt;</span> <span class="mi">30</span><span class="p">]</span>
<span class="n">days_btw_caffeine</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">'hist'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Days between caffeine'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/images/2019/2019-07-18-road-trip-expenses-pt1_files/2019-07-18-road-trip-expenses-pt1_38_1.png" alt="png" /></p>

<p>And therein, my friends, lies the histogram of an addict: I rarely went more than 5 days in between buying myself some form of caffeine.</p>

<p>So it goes. And it was all worth it.</p>

        
      </section>

      <footer class="page__meta">
        
        


  




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://localhost:4000/tags/#coding" class="page__taxonomy-item" rel="tag">coding</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#data-science" class="page__taxonomy-item" rel="tag">data-science</a><span class="sep">, </span>
    
      
      
      <a href="http://localhost:4000/tags/#portfolio" class="page__taxonomy-item" rel="tag">portfolio</a>
    
    </span>
  </p>




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/posts/2019/07/road-trip-expenses-pt1" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/posts/2019/07/road-trip-expenses-pt1" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http://localhost:4000/posts/2019/07/road-trip-expenses-pt1" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/posts/2019/07/road-trip-expenses-pt1" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>

      


  <nav class="pagination">
    
      <a href="http://localhost:4000/posts/2019/07/road-trip-stats" class="pagination--pager" title="Road trip summary statistics
">Previous</a>
    
    
      <a href="http://localhost:4000/posts/2019/10/cambodia-frisbee" class="pagination--pager" title="Ultimate frisbee as a tool for social change
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      
        <h4 class="page__related-title">You May Also Enjoy</h4>
      
      <div class="grid__wrapper">
        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2021/01/public-health-resources" rel="permalink">Resources for pivoting to public health data science
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  10 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2021-01-09T00:00:00-08:00">January 09, 2021</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>About two years into my PhD, I realized that the field I actually wanted to be in was public health, not necessarily biological engineering. Around the same time, I also fell in love with coding and data science. That‚Äôs when I realized that combining public health and data science could be an ideal career path for my technical abilities and interests and my desire to have social impact. But immersed in the world of academia, at an institution without a school of public health, and with mentors who had all chosen routes in biotech or academia, it was really hard to learn more about my options for pivoting to a career in public health.

<strong><a href="http://localhost:4000/posts/2021/01/public-health-resources" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2020/06/racism-public-health-wbe" rel="permalink">Racism as a public health crisis: how wastewater epidemiology fits in
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  10 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2020-06-10T00:00:00-07:00">June 10, 2020</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>Today is the <a href="https://www.particlesforjustice.org/">Strike for Black Lives</a> and a day to <a href="https://www.shutdownstem.com/">#ShutDownSTEM</a>. For white people like me, today is about recognizing and reflecting on the anti-Black racism in our society, and committing to specific actions toward ending white supremacy. One of my actions for today is to publicly reflect on how our work at <a href="www.biobot.io">Biobot Analytics</a> contributes to addressing ‚Äì and potentially perpetuating ‚Äì racism in public health.

<strong><a href="http://localhost:4000/posts/2020/06/racism-public-health-wbe" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2020/02/road-trip-map" rel="permalink">Mapping my cross-country road trip with Python
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  27 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2020-02-09T00:00:00-08:00">February 09, 2020</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>When I was on my <a href="https://cduvallet.github.io/travel/">cross-country road trip</a> last year, I kept track of a lot of things in the hopes of doing amazing analyses when I got back. Turns out having a job as a data scientist makes it a lot harder to find time to do data science on the side, and so I‚Äôve only really gotten a chance to look into my <a href="2019/07/road-trip-expenses-pt1">expenses</a>. One of the things I had really wanted to do was make a map of all the places I went, but I didn‚Äôt actually know how to work with geospatial data in Python yet. I had this grand idea that I‚Äôd learn spatial data techniques while on my trip, but turns out hiking, drinking beer while watching the sunset, and going to bed early were way more compelling ways to spend my time. Luckily for me, one of the most fun parts of my new job has been learning geospatial coding and plotting techniques. I‚Äôve been having fun with it in my job, and I realized that it also means I get to finally make my map!

<strong><a href="http://localhost:4000/posts/2020/02/road-trip-map" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
          





<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    

    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://localhost:4000/posts/2020/01/phd-job-search" rel="permalink">A Well-Kept Secret for Finding a Job post-PhD
</a>
      
    </h2>

<!--Uncomment out this section to have the read time re-included
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 


  
	  8 minute read
	
</p>
    
-->
        
         <p class="page__date"><!--<strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i>Published:</strong> --> <i><time datetime="2020-01-25T00:00:00-08:00">January 25, 2020</time></i></p>
        

    <!--The part below defines the "Read more" behavior-->
    <!--TODO: figure out how the excerpts are defined-->
    
    <p class="archive__item-excerpt" itemprop="description"><p>During my PhD, I performed a lot of exit interviews with graduating students and learned that finding a job is often the most stressful part of graduating, and among the most stressful in the entire PhD. After my own defense, however, I was able to avoid some of that stress by discovering a valuable post-PhD job option that I had rarely heard discussed: getting a part-time or consulting gig after graduating to hold you over while you figure out your next full-time non-academic career move.

<strong><a href="http://localhost:4000/posts/2020/01/phd-job-search" rel="permalink"> ... Read more</a></strong></p></p>
    

    

  </article>
</div>

        
      </div>
    </div>
  
</div>


    </script>

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        

<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/dzakwanfalihh"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/dzakwanfalih"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="http://localhost:4000/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Dzakwan Falih. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="http://localhost:4000/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>






  </body>
</html>

